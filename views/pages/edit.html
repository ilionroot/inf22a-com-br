{{#if error}}
    <div class="message-success" style="background-color: rgb(217,84,79);">
        {{error}}
    </div>
{{/if}}

<style>
    .form {
        height: 450px;
        width: 80%;
        margin-top: calc(+50px);
    }

    .row {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        margin: 5px;
    }

    @media screen and (max-width: 1157px) {
        .form {
            width: 95%;
        }
    }

    @media screen and (max-width: 768px) {
        .form {
            height: 650px;
            width: 80%;
        }

        .row {
            flex-direction: column;
        }
    }
</style>

<div class="container">
    <form method="POST" class="form" enctype="multipart/form-data">

        <h1>Editar postagem</h1>

        <div class="row">
            <label>Título: </label>
            <input type="text" value="{{titulo}}" name="titulo" required>
            <label>Disciplina: </label>
            <select name="materia" required>
            <option>{{materia}}</option>
            <option>Matemática</option>
            <option>Design de Sistemas Web (DSW)</option>
            <option>Química</option>
            <option>Inglês</option>
            <option>Empreendedorismo</option>
            <option>História</option>
            <option>Física</option>
            <option>Biologia</option>
            <option>Gramática</option>
            <option>Redação</option>
            <option>Literatura</option>
            <option>Espanhol</option>
            <option>Linguagem de Programação I</option>
            <option>Desenvolvimento de Sistemas</option>
            <option>Religião</option>
            <option>Sociologia</option>
            <option>Filosofia</option>
            <option>Geografia</option>
            <option>Educação Física</option>
            </select>
        <label>Prazo:</label>
            <input type="datetime-local" value="{{limite}}" name="prazo" required>
        </div><br>
        <textarea name="conteudo" required>{{conteudo}}</textarea><br>
        
        <span class="row">
            <label for="fileSender">Anexo:</label><br>
            <input type="file" name="fileSender"><br>
            <img name="img" src="{{anexos}}" width="100px" />
        </span>

        <input type="submit" style="background-color: rgb(91,192,222);" value="Editar">
    </form>
</div>

<script>
    $('[name=fileSender]').on('change', function() {
        if (this.files && this.files[0]) {
            var reader = new FileReader();
            reader.readAsDataURL(this.files[0]);

            reader.onloadend = function(e) {
                $('[name=img]').attr('src', e.target.result);
            };
        }
    });
</script>