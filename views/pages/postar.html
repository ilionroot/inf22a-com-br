{{#if tooLarge}}
    <div class="message-success" style="background-color: rgb(239,173,77);">
        {{tooLarge}}
    </div>
{{/if}}

{{#if fileError}}
    <div class="message-success" style="background-color: rgb(217,84,79);">
        {{fileError}}
    </div>
{{/if}}

<style>
    .container {
        margin-top: -9vh;
    }

    .form {
        height: 450px;
        margin-top: calc(+50px);
        width: 80%;
    }

    .form input[type=file] {
        width: 95%;
    }

    .row {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        margin: 5px;
    }

    @media screen and (max-width: 951px) {
        .form {
            width: 95%;
        }
    }

    @media screen and (max-width: 768px) {
        .form {
            height: 650px;;
            width: 80%;
        }
        
        .row {
            flex-direction: column;
        }
    }
</style>

<div class="container">
    <form method="post" enctype="multipart/form-data" class="form">
        <div class="row">
            <label for="titulo">Título: </label>
            <input placeholder="Título da postagem" type="text" name="titulo" required>
            <label for="materia">Disciplina: </label>
            <select name="materia" required>
            <option>Selecione uma disciplina</option>
            <option>Matemática</option>
            <option>Design de Sistemas Web (DSW)</option>
            <option>Química</option>
            <option>Inglês</option>
            <option>Empreendedorismo</option>
            <option>História</option>
            <option>Física</option>
            <option>Biologia</option>
            <option>Gramática</option>
            <option>Redação</option>
            <option>Literatura</option>
            <option>Espanhol</option>
            <option>Linguagem de Programação I</option>
            <option>Desenvolvimento de Sistemas</option>
            <option>Religião</option>
            <option>Sociologia</option>
            <option>Filosofia</option>
            <option>Geografia</option>
            <option>Educação Física</option>
        </select>
        <label>Prazo</label>
            <input type="datetime-local" name="prazo" required>
        </div><br>
        <textarea placeholder="Digite o conteúdo da postagem" name="conteudo" required></textarea><br>
        <span class="row">
            <label for="fileSender">Anexo:</label><br>
            <input type="file" name="fileSender"><br>
            <img name="img" width="100px" />
        </span><br>
        <input type="submit" value="Enviar">
    </form<>
</div><br>

<script>
    $('[name=fileSender]').on('change', function() {
        if (this.files && this.files[0]) {
            var reader = new FileReader();
            reader.readAsDataURL(this.files[0]);

            reader.onloadend = function(e) {
                $('[name=img]').attr('src', e.target.result);
            };
        }
    });
</script>